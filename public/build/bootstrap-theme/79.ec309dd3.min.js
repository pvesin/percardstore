"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[79],{1079:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var n=a(9963),r=a(3575),l=a(6252),s=a(2262);const o=(0,s.qj)({allData:{},products:[]}),i=(0,s.iH)({modalIsOpened:!1,url:"",loading:!1});var u=a(4060);const c=(0,s.iH)({locale:u.Z.getLocale(),currency:""}),d=()=>{const e=(0,l.Fl)((()=>o.allData)),t=(0,l.Fl)((()=>o.products)),a=(0,l.Fl)((()=>t.value.reduce(((e,{quantity:t})=>e+t),0))),n=(0,l.Fl)((()=>o.allData.total)),r=(0,l.Fl)((()=>o.allData.adjustmentsTotal));return{getAllData:e,fetchProductInCart:e=>{o.allData=e,o.products=o.allData.items},getProducts:t,getTotalQuantity:a,getTotal:n,getAdjustmentsTotal:r}},_=()=>({modalIsOpened:(0,l.Fl)((()=>i.value.modalIsOpened)),setModalIsOpened:e=>i.value.modalIsOpened=e,fetchCartUrl:(e="")=>i.value.url=e,getCartUrl:(0,l.Fl)((()=>i.value.url)),loading:(0,l.Fl)((()=>i.value.loading)),setLoading:e=>i.value.loading=e}),m=()=>({getLocale:(0,l.Fl)((()=>c.value.locale)),fetchCurrency:(e="")=>c.value.currency=e,getCurrency:(0,l.Fl)((()=>c.value.currency))});var p=a(3577),v=a(4641);const f=(0,l._)("i",{class:"Icon-cart fs-2"},null,-1),h={class:"Cart-badge fs-7 position-absolute top-0 start-0 translate-middle bg-white border border-primary rounded-circle text-primary lh-1 flex-flow-center"},w={__name:"Quantity",setup(e){const t=d().getTotalQuantity;return(e,a)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,p.C_)(["position-relative d-flex align-items-center text-uppercase",{"text-white":!(0,s.SU)(v.Em)()}])},[f,(0,l._)("span",h,(0,p.zw)((0,s.SU)(t)),1)],2))}},g=(e,t=1)=>String((e/t).toFixed(2)).replace(".",",");var y=a(2861),b=a(173);function S(e,t,a,n,r,l,s){try{var o=e[l](s),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,r)}const U=function(){var e,t=(e=function*(){return(yield y.Z.get(u.Z.generate(b.JC.CART_SUMMARY_AJAX,{_locale:u.Z.getLocale()}))).data},function(){var t=this,a=arguments;return new Promise((function(n,r){var l=e.apply(t,a);function s(e){S(l,n,r,s,o,"next",e)}function o(e){S(l,n,r,s,o,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),C=["href"],T=["src","alt"],x={class:"d-flex flex-column align-items-start flex-1"},E=["href"],A={class:"mb-2 pb-1"},R={class:"fw-bold mb-2"},O={key:1,class:"Loader-block w-100",style:{height:"137px"}},D={__name:"Product",props:{product:Object},setup(e){const t=window.Translator,a=e,n=(0,s.BK)(a).product,r=d().fetchProductInCart,o=m(),i=o.getLocale,c=o.getCurrency,_=(0,s.iH)(!1);return(e,a)=>_.value?((0,l.wg)(),(0,l.iD)("div",O)):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("a",{href:(0,s.SU)(n).variant.slug,class:"me-4",style:{width:"4rem"}},[(0,l._)("img",{src:(0,s.SU)(n).variant.image,alt:(0,s.SU)(n).variant.translations[(0,s.SU)(i)].name},null,8,T)],8,C),(0,l._)("div",x,[(0,l._)("a",{href:(0,s.SU)(n).variant.slug,class:"mb-2 pb-1 has-underline"},(0,p.zw)((0,s.SU)(n).variant.translations[(0,s.SU)(i)].name),9,E),(0,l._)("p",A,(0,p.zw)((0,s.SU)(t).trans("sylius.ui.quantity"))+": "+(0,p.zw)((0,s.SU)(n).quantity),1),(0,l._)("p",R,(0,p.zw)((0,s.SU)(g)((0,s.SU)(n).total,100)+" "+(0,s.SU)(c)),1),(0,l._)("button",{onClick:a[0]||(a[0]=e=>{return t=(0,s.SU)(n).id,_.value=!0,void y.Z.delete(u.Z.generate(b.JC.CART_REMOVE_ITEM,{_locale:i.value,id:t}),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{U().then((e=>{r(e),_.value=!1}))})).catch((e=>{console.log(e),_.value=!1}));var t}),class:"Button text-gray-600 fs-5 has-underline has-underline--invert pb-1"},(0,p.zw)((0,s.SU)(t).trans("sylius.ui.delete")),1)])],64))}},P={class:"flex-flow-between"},j={class:"fw-bold mb-3 fs-3 text-center"},k=[(0,l._)("i",{class:"fas fa-close fs-3 cursor-pointer"},null,-1)],I={class:"mh-cart-widget overflow-y-auto mb-4 border-bottom"},L={class:"flex-flow-between mb-2"},F={class:"flex-flow-between align-items-center mb-4 fw-bold"},H={class:"fs-4"},M={class:"flex-flow-center"},z=["href"],Z={__name:"Content",setup(e){const t=window.Translator,a=d(),r=a.getProducts,o=a.getTotal,i=a.getAdjustmentsTotal,u=_(),c=u.getCartUrl,v=(u.loading,u.setModalIsOpened),f=u.modalIsOpened,h=m(),w=(h.getLocale,h.getCurrency),y=(0,s.iH)(!1);return(0,l.YP)((()=>f.value),(e=>{e&&setTimeout((()=>{y.value=!0}),300),e||(y.value=!1)})),(e,a)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,p.C_)(["z-max position-fixed top-0 end-0 bottom-0 mw-450 w-100 flex-column bg-white p-4 shadow text-black",{"d-flex":(0,s.SU)(f)}])},[(0,l.Wm)(n.uT,{name:"Animation-fade",persisted:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",P,[(0,l._)("p",j,(0,p.zw)((0,s.SU)(t).trans("sylius.cart.my_cart")),1),(0,l._)("span",{onClick:a[0]||(a[0]=e=>(0,s.SU)(v)(!1))},k)],512),[[n.F8,y.value]])])),_:1}),(0,l.Wm)(n.uT,{name:"Animation-fade",persisted:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("p",{class:"mt-3"},(0,p.zw)((0,s.SU)(t).trans("sylius.cart.your_cart_is_currently_empty")),513),[[n.F8,!(0,s.SU)(r).length&&y.value]])])),_:1}),(0,l.Wm)(n.uT,{name:"Animation-fade",persisted:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("ul",I,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,s.SU)(r),((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t,class:"flex-flow-centerY py-4"},[(0,l.Wm)((0,s.SU)(D),{product:e},null,8,["product"])])))),128))],512),[[n.F8,(0,s.SU)(r).length&&y.value]])])),_:1}),(0,l.Wm)(n.uT,{name:"Animation-fade",persisted:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",{class:(0,p.C_)(["flex-1 flex-column justify-content-end",{"d-flex":(0,s.SU)(r).length&&y.value}])},[(0,l._)("div",L,[(0,l._)("span",null,(0,p.zw)((0,s.SU)(t).trans("sylius.cart.delivery")),1),(0,l._)("span",null,(0,p.zw)((0,s.SU)(g)((0,s.SU)(i),100)+" "+(0,s.SU)(w)),1)]),(0,l._)("div",F,[(0,l._)("span",null,(0,p.zw)((0,s.SU)(t).trans("sylius.ui.total")),1),(0,l._)("span",H,(0,p.zw)((0,s.SU)(g)((0,s.SU)(o),100)+" "+(0,s.SU)(w)),1)]),(0,l._)("div",M,[(0,l._)("a",{href:(0,s.SU)(c),class:"Button Button--base border border-black border-2 w-100"},(0,p.zw)((0,s.SU)(t).trans("sylius.cart.my_cart")),9,z)])],2),[[n.F8,(0,s.SU)(r).length&&y.value]])])),_:1})],2))}};var N=a(3576),B=a(5508);const W={class:"mx-1 position-relative lh-1"},Y={__name:"Main",props:{routeCart:String,currency:String,data:Object},setup(e){window.Translator;const t=e,a=t.routeCart,r=t.currency,o=t.data,i=d().fetchProductInCart,u=m().fetchCurrency,c=_(),p=c.modalIsOpened,f=c.setModalIsOpened,h=c.fetchCartUrl;return i(o),h(a),u(r),N.Z.addEventListener(B.Z.ADDED_TO_CART,(()=>{U().then((e=>{i(e),f(!0)}))})),(e,t)=>((0,l.wg)(),(0,l.j4)(l.lR,{to:".vm-cart-widget-mobile-teleported",disabled:!(0,s.SU)(v.Em)()},[(0,l._)("div",W,[(0,l._)("div",{onClick:t[0]||(t[0]=e=>(0,s.SU)(f)(!0)),class:"cursor-pointer transition-fast d-block"},[(0,l.Wm)((0,s.SU)(w))]),((0,l.wg)(),(0,l.j4)(l.lR,{to:".vm-cart-widget-modal"},[(0,l.Wm)(n.uT,{name:"Animation-translateX-byRight",persisted:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)((0,s.SU)(Z),null,null,512),[[n.F8,(0,s.SU)(p)]])])),_:1}),(0,l.Wm)(n.uT,{name:"Animation-opacity",persisted:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",{onClick:t[1]||(t[1]=e=>(0,s.SU)(f)(!1)),class:"zindex-modal-backdrop position-fixed inset-0 bg-white-75"},null,512),[[n.F8,(0,s.SU)(p)]])])),_:1})]))])],8,["disabled"]))}};var q=a(3654);const X=()=>{if(!r.l)return;const e=void 0!==r.l.dataset.routeCart?r.l.dataset.routeCart:null,t=void 0!==r.l.dataset.currency?r.l.dataset.currency:"â‚¬";U().then((a=>{(0,n.ri)(Y,{data:a,routeCart:e,currency:t}).directive("click-outside",q.f).mount(r.l)}))}},5508:(e,t,a)=>{a.d(t,{Z:()=>n});const n={ADDED_TO_CART:"addedToCart",FORM_SUBMIT:"form-submit"}},4060:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(714);function r(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l{constructor(){return r(this,"locale",void 0),l.instance||(l.instance=this),l.instance}setLocale(e){this.locale=e}getLocale(){return this.locale}generate(e,t={},a=!1){return a||!this.routeHasLocale(e)||t._locale||(t._locale=this.locale),n.Z.generate(this.replaceRouteNameParams(e)+(a?"."+this.locale:""),t,!0)}routeHasLocale(e){var t,a;return null===(a=(null!==(t=n.Z.routing.getRoutes())&&void 0!==t?t:{})[e])||void 0===a||null===(a=a.requirements)||void 0===a?void 0:a._locale}replaceRouteNameParams(e){return e.includes("%locale%")&&(e=e.replace("%locale%",this.locale)),e}}r(l,"instance",void 0);const s=new l,o=s;(()=>{const e=document.body.dataset.locale;e||console.warn('<body> element should implement "data-section" and "data-locale" to use the LocaleRouter'),s.setLocale(e)})()},714:(e,t,a)=>{function n(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,{Z:()=>l});class r{constructor(){return n(this,"routing",void 0),r.instance||(this.routing=window.Routing,this.routing.setHost(window.location.host),r.instance=this),r.instance}generate(e,t={}){return this.routing.generate(e,t,!0)}}const l=new r},173:(e,t,a)=>{a.d(t,{JC:()=>r,Sf:()=>l,Tj:()=>s,g6:()=>n});const n={PRODUCTS_VARIANTS_BY_PHRASE:"asdoria_shop_quick_shopping_ajax_all_product_variants_by_phrase",PRODUCTS_VARIANTS_BY_CODE:"asdoria_shop_quick_shopping_ajax_all_product_variants_by_codes",SYLIUS_SHOP_PRODUCT_SEARCH:"sylius_shop_product_search"},r={CART_SUMMARY_AJAX:"sylius_shop_ajax_cart_summary",CART_REMOVE_ITEM:"sylius_shop_ajax_cart_item_remove",MENU:"asdoria_shop_menu_ajax_search",SEARCH_PRODUCTS:"sylius_shop_product_ajax_search",SEARCH_PRODUCT_BY_TAXON:"sylius_shop_ajax_product_by_taxon",SEARCH_TAXON_BY_NAME_PHRASE:"sylius_shop_ajax_taxon_by_name_phrase"},l={PRODUCT_SHOW:"sylius_shop_product_show",PRODUCT_INDEX:"sylius_shop_product_index",PRODUCT_INDEX_SCROLL:"sylius_shop_ajax_product_index"},s={IMAGINE_FILTER:"liip_imagine_filter"}},3576:(e,t,a)=>{a.d(t,{Z:()=>r});class n{constructor(){this.bus=document.createElement("div")}addEventListener(e,t){this.bus.addEventListener(e,t)}removeEventListener(e,t){this.bus.removeEventListener(e,t)}dispatchEvent(e,t={}){this.bus.dispatchEvent(new CustomEvent(e,{detail:t}))}}window.eventBus||(window.eventBus=new n);const r=window.eventBus},4641:(e,t,a)=>{a.d(t,{Em:()=>r,aO:()=>n});const n=()=>{let e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},r=()=>n().width<992},3654:(e,t,a)=>{a.d(t,{f:()=>n});const n={beforeMount(e,t,a){e.clickOutsideEvent=a=>{e===a.target||e.contains(a.target)||t.value(a)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}}}]);