"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[676],{7772:(e,t,s)=>{s.d(t,{Z:()=>u});var r=s(4777);function l(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class o{constructor(){return l(this,"locale",void 0),o.instance||(o.instance=this),o.instance}setLocale(e){this.locale=e}getLocale(){return this.locale}generate(e,t={},s=!1){return s||!this.routeHasLocale(e)||t._locale||(t._locale=this.locale),r.Z.generate(this.replaceRouteNameParams(e)+(s?"."+this.locale:""),t,!0)}routeHasLocale(e){var t,s;return null===(s=(null!==(t=r.Z.routing.getRoutes())&&void 0!==t?t:{})[e])||void 0===s||null===(s=s.requirements)||void 0===s?void 0:s._locale}replaceRouteNameParams(e){return e.includes("%locale%")&&(e=e.replace("%locale%",this.locale)),e}}l(o,"instance",void 0);const a=new o,u=a;(()=>{const e=document.body.dataset.locale;e||console.warn('<body> element should implement "data-section" and "data-locale" to use the LocaleRouter'),a.setLocale(e)})()},4777:(e,t,s)=>{function r(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{Z:()=>o});class l{constructor(){return r(this,"routing",void 0),l.instance||(this.routing=window.Routing,this.routing.setHost(window.location.host),l.instance=this),l.instance}generate(e,t={}){return this.routing.generate(e,t,!0)}}const o=new l},167:(e,t,s)=>{s.d(t,{JC:()=>l,Sf:()=>o,Tj:()=>a,g6:()=>r});const r={PRODUCTS_VARIANTS_BY_PHRASE:"asdoria_shop_quick_shopping_ajax_all_product_variants_by_phrase",PRODUCTS_VARIANTS_BY_CODE:"asdoria_shop_quick_shopping_ajax_all_product_variants_by_codes",SYLIUS_SHOP_PRODUCT_SEARCH:"sylius_shop_product_search"},l={CART_SUMMARY_AJAX:"sylius_shop_ajax_cart_summary",CART_REMOVE_ITEM:"sylius_shop_ajax_cart_item_remove",MENU:"asdoria_shop_menu_ajax_search",SEARCH_PRODUCTS:"sylius_shop_product_ajax_search",SEARCH_PRODUCT_BY_TAXON:"sylius_shop_ajax_product_by_taxon",SEARCH_TAXON_BY_NAME_PHRASE:"sylius_shop_ajax_taxon_by_name_phrase"},o={PRODUCT_SHOW:"sylius_shop_product_show",PRODUCT_INDEX:"sylius_shop_product_index",PRODUCT_INDEX_SCROLL:"sylius_shop_ajax_product_index"},a={IMAGINE_FILTER:"liip_imagine_filter"}},9730:(e,t,s)=>{s.d(t,{Z:()=>r});const r=(e,t)=>{let s=null;return(...r)=>{clearTimeout(s),s=setTimeout((()=>e(...r)),t)}}},7899:(e,t,s)=>{s.d(t,{Em:()=>l,aO:()=>r});const r=()=>{let e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},l=()=>r().width<992},1198:(e,t,s)=>{s.d(t,{f:()=>r});const r={beforeMount(e,t,s){e.clickOutsideEvent=s=>{e===s.target||e.contains(s.target)||t.value(s)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}},4676:(e,t,s)=>{s.r(t),s.d(t,{default:()=>we});var r=s(9963),l=s(4582),o=s(6252),a=s(2262),u=s(3577);function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const c=(0,a.iH)({searchLogoObject:{},modalInfoIsOpened:!1,modalResultsIsOpened:!1});var d=s(2861),g=s(7772),p=s(167);function v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(Object(s),!0).forEach((function(t){f(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function f(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function m(e,t,s,r,l,o,a){try{var u=e[o](a),n=u.value}catch(e){return void s(e)}u.done?t(n):Promise.resolve(n).then(r,l)}function y(e){return function(){var t=this,s=arguments;return new Promise((function(r,l){var o=e.apply(t,s);function a(e){m(o,r,l,a,u,"next",e)}function u(e){m(o,r,l,a,u,"throw",e)}a(void 0)}))}}const _=function(){var e=y((function*({queries:e=[],routeParams:t={}},s=null){const r={};s&&(r.signal=s.signal);return(yield d.Z.get(g.Z.generate(p.JC.SEARCH_PRODUCTS,h({_locale:g.Z.getLocale(),"criteria[search_value]":e.join(",")||null},t)),h({},r))).data}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=y((function*({queries:e=[],routeParams:t={}},s=null){const r={};s&&(r.signal=s.signal);return(yield d.Z.get(g.Z.generate(p.JC.SEARCH_TAXON_BY_NAME_PHRASE,h({_locale:g.Z.getLocale(),phrase:e.join("%")||null},t)),h({},r))).data}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=y((function*({queries:e=[],slug:t},s=null){const r={};s&&(r.signal=s.signal);return(yield d.Z.get(g.Z.generate(p.JC.SEARCH_PRODUCT_BY_TAXON,{_locale:g.Z.getLocale(),slug:t,"criteria[search_value]":e.join(",")||null}),h({},r))).data}));return function(t){return e.apply(this,arguments)}}();var w=s(7899);const x=(0,a.iH)({searchIsOpened:!1,currentValue:"",queries:[],minChar:3,fullLink:"",currentTaxon:{},currentSlug:""}),S=(0,a.iH)(null),O=(0,a.iH)(null),T=(0,a.iH)(null);function R(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function j(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const C=(0,a.iH)({resultsProducts:[],resultsProductsBySearch:[],resultsProductsByTaxon:[],productsLoaded:!1,limitResultsDisplayed:(0,w.Em)()?4:5,totalResultsProducts:0,totalResultsProductsBySearch:0}),D=(0,a.iH)({taxonsHighlighted:[],resultsTaxons:[],limitResultsDisplayed:(0,w.Em)()?3:4,taxonsLoaded:!1}),L={common:()=>({fetchSearchLogoObject:(e={})=>c.value.searchLogoObject=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e),getSearchLogoObject:(0,o.Fl)((()=>c.value.searchLogoObject)),modalInfoIsOpened:(0,o.Fl)((()=>c.value.modalInfoIsOpened)),setModalInfoIsOpened:e=>c.value.modalInfoIsOpened=e,modalResultsIsOpened:(0,o.Fl)((()=>c.value.modalResultsIsOpened)),setModalResultsIsOpened:e=>c.value.modalResultsIsOpened=e}),search:()=>{const e=L.resultsProducts(),t=e.getResultsProducts,s=e.setResultsProducts,r=e.setProductsLoaded,l=e.setResultsProductsBySearch,a=e.setTotalResultsProducts,u=e.addResultsProductsByTaxon,n=e.getTotalResultsProducts,i=e.setTotalResultsProductsBySearch,c=L.resultsTaxons(),d=c.setResultsTaxons,v=c.setTaxonsLoaded,h=(0,o.Fl)((()=>x.value.searchIsOpened)),f=(0,o.Fl)((()=>x.value.currentValue)),m=(0,o.Fl)((()=>x.value.queries)),y=(0,o.Fl)((()=>x.value.minChar)),R=(0,o.Fl)((()=>x.value.currentTaxon)),j=(0,o.Fl)((()=>R.value.slug)),C=(0,o.Fl)((()=>j.value?g.Z.generate(p.Sf.PRODUCT_INDEX,{_locale:g.Z.getLocale(),slug:j.value,"criteria[search_value]":m.value.length?m.value.join(","):""}):g.Z.generate(p.g6.SYLIUS_SHOP_PRODUCT_SEARCH,{_locale:g.Z.getLocale(),"criteria[search_value]":m.value.length?m.value.join(","):""})));return{searchIsOpened:h,setSearchIsOpened:e=>x.value.searchIsOpened=e,getQueries:m,addQuery:e=>x.value.queries.push(e),setQuery:e=>x.value.queries=e,removeQuery:e=>x.value.queries.splice(x.value.queries.indexOf(e),1),getCurrentValue:f,setCurrentValue:e=>x.value.currentValue=e,getMinChar:y,getCurrentTaxon:R,setCurrentTaxon:(e={})=>x.value.currentTaxon=e,getCurrentSlug:j,setCurrentSlug:e=>R.value.slug=e,getFullLink:C,fetchProducts:()=>(S.value&&(S.value.abort(),S.value=null),S.value=new AbortController,_({queries:m.value,routeParams:{limit:(0,w.Em)()?4:5}},S.value).then((({total:e,_embedded:{items:o}})=>{s(o),l(t.value),a(e),i(n.value),r(!0)})).catch((e=>console.log(e)))),fetchTaxons:()=>(O.value&&(O.value.abort(),O.value=null),O.value=new AbortController,b({queries:m.value,routeParams:{limit:(0,w.Em)()?4:5}},O.value).then((e=>{const t=e.map((e=>e.translations[g.Z.getLocale()])).filter((e=>e));d(t),v(!0)})).catch((e=>console.log(e)))),fetchProductsByTaxon:({slug:e})=>(T.value&&(T.value.abort(),T.value=null),T.value=new AbortController,P({slug:e,queries:m.value},T.value).then((({total:t,_embedded:{items:s}})=>{u({slug:e,items:s,totalProducts:t})})).catch((e=>console.log(e))))}},resultsProducts:()=>{const e=(0,o.Fl)((()=>C.value.resultsProducts)),t=(0,o.Fl)((()=>C.value.resultsProducts.slice(0,C.value.limitResultsDisplayed))),s=(0,o.Fl)((()=>C.value.resultsProductsBySearch)),r=(0,o.Fl)((()=>C.value.resultsProductsByTaxon));return{getResultsProducts:e,getResultsProductsFiltered:t,setResultsProducts:(e=[])=>C.value.resultsProducts=e,getResultsProductsBySearch:s,setResultsProductsBySearch:(e=[])=>C.value.resultsProductsBySearch=e,getSlugsOfResultsProductsByTaxon:(0,o.Fl)((()=>C.value.resultsProductsByTaxon.map((e=>e.slug)))),getResultsProductsByTaxon:r,addResultsProductsByTaxon:(e={})=>C.value.resultsProductsByTaxon.push(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?R(Object(s),!0).forEach((function(t){j(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):R(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e)),emptyResultsProductsByTaxon:()=>C.value.resultsProductsByTaxon=[],getLimitResultsDisplayed:(0,o.Fl)((()=>C.value.limitResultsDisplayed)),productsLoaded:(0,o.Fl)((()=>C.value.productsLoaded)),setProductsLoaded:e=>C.value.productsLoaded=e,getTotalResultsProducts:(0,o.Fl)((()=>C.value.totalResultsProducts)),setTotalResultsProducts:e=>C.value.totalResultsProducts=e,getTotalResultsProductsBySearch:(0,o.Fl)((()=>C.value.totalResultsProductsBySearch)),setTotalResultsProductsBySearch:e=>C.value.totalResultsProductsBySearch=e}},resultsTaxons:()=>({fetchTaxonsHighlighted:e=>D.value.taxonsHighlighted=e,getTaxonsHighlighted:(0,o.Fl)((()=>D.value.taxonsHighlighted)),getResultsTaxons:(0,o.Fl)((()=>D.value.resultsTaxons.slice(0,D.value.limitResultsDisplayed))),setResultsTaxons:(e=[])=>D.value.resultsTaxons=e,taxonsLoaded:(0,o.Fl)((()=>D.value.taxonsLoaded)),setTaxonsLoaded:e=>D.value.taxonsLoaded=e,urlTaxonBySlug:e=>g.Z.generate(p.Sf.PRODUCT_INDEX,{_locale:g.Z.getLocale(),slug:e})})},U={class:"col-12 col-lg-9 d-flex flex-column mb-4 text-primary"},k={class:"mb-2 pb-1 fw-bold border-bottom"},E={key:0},I={key:1},B={class:"d-flex flex-wrap mb-4"},H=["href"],F=["src","alt"],A={class:"line-clamp-3"},Z={class:"flex-flow-center"},q=["href"],N={key:1};var M=s(4777);const Y="sylius_shop_product_thumbnail",z={name:"ResultsProducts",setup(){const e=L.resultsProducts(),t=e.getResultsProducts,s=e.getResultsProductsFiltered,r=e.getTotalResultsProducts,l=L.resultsTaxons().getResultsTaxons,o=L.search(),a=o.getFullLink;return{getResultsProducts:t,getTotalResultsProducts:r,getResultsProductsFiltered:s,getResultsTaxons:l,getCurrentTaxon:o.getCurrentTaxon,getCurrentSlug:o.getCurrentSlug,getFullLink:a,imagePath:e=>e?M.Z.generate(p.Tj.IMAGINE_FILTER,{path:e||null,filter:Y}):"/assets/shop/img/400x300.png",productUrl:e=>g.Z.generate(p.Sf.PRODUCT_SHOW,{_locale:g.Z.getLocale(),slug:e}),Translator}}};const V=(0,s(3744).Z)(z,[["render",function(e,t,s,l,a,n){return(0,o.wg)(),(0,o.iD)("div",U,[(0,o._)("p",k,[l.getCurrentSlug?((0,o.wg)(),(0,o.iD)("span",E,(0,u.zw)(l.Translator.transChoice("sylius.search.products_of_taxon",l.getCurrentTaxon.name,{taxonName:l.getCurrentTaxon.name})),1)):((0,o.wg)(),(0,o.iD)("span",I,(0,u.zw)(l.Translator.trans("sylius.ui.products")),1)),(0,o._)("span",null," ("+(0,u.zw)(l.getTotalResultsProducts)+")",1)]),l.getResultsProducts.length?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("ul",B,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.getResultsProductsFiltered,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t,class:"Card-product Card-product--search mb-2"},[(0,o._)("a",{href:l.productUrl(e.slug)},[(0,o.Wm)(r.uT,{name:"Animation-opacity"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:l.imagePath(e.images[0].path),alt:e.name,class:"mb-4"},null,8,F)])),_:2},1024),(0,o._)("p",A,(0,u.zw)(e.name),1)],8,H)])))),128))]),(0,o._)("div",Z,[(0,o._)("a",{href:l.getFullLink,class:"Button Button--primary text-center w-100 mw-320"},(0,u.zw)(l.Translator.trans("sylius.shop.see_all_products")),9,q)])],64)):(0,o.kq)("v-if",!0),l.getResultsTaxons.length&&!l.getResultsProducts.length?((0,o.wg)(),(0,o.iD)("p",N,(0,u.zw)(l.Translator.trans("sylius.search.no_product")),1)):(0,o.kq)("v-if",!0)])}]]),W=["href"],X={__name:"ResultsTaxon",props:{taxon:Object},setup(e){const t=L.search(),s=t.setCurrentTaxon,r=t.getCurrentSlug,l=t.getCurrentValue,n=t.fetchProductsByTaxon,i=L.resultsTaxons().urlTaxonBySlug,c=L.resultsProducts(),d=(c.getResultsProducts,c.setResultsProducts),g=c.setProductsLoaded,p=c.getResultsProductsByTaxon,v=c.getSlugsOfResultsProductsByTaxon,h=c.setTotalResultsProducts,f=e.taxon,m=()=>{const e=(0,o.Fl)((()=>p.value.find((e=>e.slug===f.slug))));if(!v.value.includes(f.slug))return g(!1),void n({slug:f.slug}).then((()=>{var t;null!==(t=e.value)&&void 0!==t&&t.slug&&(e.value.slug===r.value&&(d(e.value.items),h(e.value.totalProducts)),g(!0))})).catch((e=>console.log(e)));d(e.value.items),h(e.value.totalProducts)},y=e=>{e.preventDefault(),s(f),(0,w.Em)()&&m()},_=()=>{s(f),(0,w.Em)()||m()},b=(0,o.Fl)((()=>{const e=new RegExp("("+l.value.toLowerCase().split(" ").join("|")+")+","g");return f.name.toLowerCase().split(e).filter((e=>e))}));return(e,t)=>((0,o.wg)(),(0,o.iD)("a",{href:(0,a.SU)(i)((0,a.SU)(f).slug),onMouseenter:_,onClick:y,class:(0,u.C_)(["transition-fast py-2 d-block lh-1",[(0,a.SU)(r)===(0,a.SU)(f).slug?"bg-primary text-white px-2":"text-gray-800"]])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(b.value,((e,t)=>((0,o.wg)(),(0,o.iD)("span",{key:t,class:(0,u.C_)({"fw-bold":(0,a.SU)(l).includes(e)})},(0,u.zw)(e),3)))),128))],42,W))}},Q={class:"col-12 col-lg-3 d-flex flex-column align-items-start text-primary"},J={class:"mb-2 pb-1 fw-bold border-bottom"},K={key:0,class:"d-flex flex-column border-bottom"},$={key:1},G={__name:"ResultsTaxons",setup(e){const t=window.Translator,s=L.resultsProducts().getResultsProducts,r=L.resultsTaxons().getResultsTaxons;return(e,l)=>((0,o.wg)(),(0,o.iD)("div",Q,[(0,o._)("p",J,(0,u.zw)((0,a.SU)(t).trans("sylius.search.suggestions")),1),(0,a.SU)(r).length?((0,o.wg)(),(0,o.iD)("ul",K,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,a.SU)(r),((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t},[(0,o.Wm)(X,{taxon:e},null,8,["taxon"])])))),128))])):(0,o.kq)("v-if",!0),!(0,a.SU)(r).length&&(0,a.SU)(s).length?((0,o.wg)(),(0,o.iD)("p",$,(0,u.zw)((0,a.SU)(t).trans("sylius.search.no_taxon")),1)):(0,o.kq)("v-if",!0)]))}},ee={key:1,class:"col-12 col-lg-3"},te=[(0,o._)("div",{class:"Loader-block h-32 w-100 mb-3"},null,-1)],se={key:3,class:"col-12 col-lg-9"},re={class:"d-flex flex-wrap"},le=[(0,o._)("div",{class:"Loader-block h-32"},null,-1)],oe={key:1,class:"w-100 mx-4 p-4 bg-gray-100"},ae={__name:"Results",setup(e){const t=window.Translator,s=L.resultsTaxons(),l=s.taxonsLoaded,n=s.getResultsTaxons,i=L.search(),c=i.getMinChar,d=i.getCurrentValue,g=i.setCurrentTaxon,p=L.resultsProducts(),v=p.productsLoaded,h=p.getLimitResultsDisplayed,f=p.setResultsProducts,m=p.getTotalResultsProductsBySearch,y=p.setTotalResultsProducts,_=p.getResultsProductsBySearch,b=e=>{f(_.value),y(m.value),g({})};return(e,s)=>((0,o.wg)(),(0,o.j4)(r.uT,{name:"Animation-fade"},{default:(0,o.w5)((()=>[(0,a.SU)(n).length||(0,a.SU)(d)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"row text-black bg-white mt-4 px-4 pb-4",onMouseleave:b},[(0,a.SU)(d).length>=(0,a.SU)(c)?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,a.SU)(l)?((0,o.wg)(),(0,o.j4)((0,a.SU)(G),{key:0})):(0,o.kq)("v-if",!0),(0,a.SU)(l)?(0,o.kq)("v-if",!0):((0,o.wg)(),(0,o.iD)("div",ee,te)),(0,a.SU)(v)?((0,o.wg)(),(0,o.j4)((0,a.SU)(V),{key:2})):(0,o.kq)("v-if",!0),(0,a.SU)(v)?(0,o.kq)("v-if",!0):((0,o.wg)(),(0,o.iD)("div",se,[(0,o._)("div",re,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,a.SU)(h),(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"w-50 w-sm-25 w-lg-1/5 px-2 mb-3 mb-sm-0"},le)))),128))])]))],64)):((0,o.wg)(),(0,o.iD)("div",oe,[(0,o._)("p",null,(0,u.zw)((0,a.SU)(t).trans("sylius.search.no_result"))+". "+(0,u.zw)((0,a.SU)(t).transChoice("sylius.search.warning",(0,a.SU)(c),{minChar:(0,a.SU)(c)})),1)]))],32)):(0,o.kq)("v-if",!0)])),_:1}))}};var ue=s(9730);const ne={class:"flex-flow-between px-3 py-1 mw-575 w-100 rounded bg-gray-200 transition-fast flex-1"},ie=["value","onKeyup","placeholder"],ce=["href"],de=[(0,o._)("i",{class:"Icon-search text-primary cursor-pointer"},null,-1)],ge={__name:"SearchBar",setup(e){const t=window.Translator,s=L.search(),l=s.setCurrentValue,u=s.getCurrentValue,n=s.getQueries,i=s.setQuery,c=s.setCurrentSlug,d=s.getMinChar,g=s.getFullLink,p=s.fetchProducts,v=s.fetchTaxons,h=L.resultsTaxons(),f=h.setResultsTaxons,m=h.setTaxonsLoaded,y=L.resultsProducts(),_=y.getResultsProducts,b=y.setResultsProducts,P=y.emptyResultsProductsByTaxon,w=y.setProductsLoaded,x=y.setTotalResultsProducts,S=L.common().setModalResultsIsOpened,O=(0,ue.Z)((e=>{if(n.value.length&&!_.value.length)return m(!1),w(!1),p(),void v();u.value.length<d.value||(p(),v())}),1e3),T=()=>{location.assign(g.value)};return(e,s)=>((0,o.wg)(),(0,o.iD)("div",ne,[(0,o._)("input",{type:"text",onInput:s[0]||(s[0]=e=>{(e=>{if(l(e.target.value),!(u.value.length<d.value)||n.value.length){if(u.value.length<d.value&&n.value.length)return i([]),b([]),f([]),P(),c(""),x(0),m(!0),void w(!0);if(i(u.value.trim().split(" ")),S(!0),u.value.length<d.value)return m(!0),void w(!0);m(!1),w(!1),P(),c("")}})(e),(0,a.SU)(O)(e)}),value:(0,a.SU)(u),onKeyup:(0,r.D2)(T,["enter"]),placeholder:(0,a.SU)(t).trans("sylius.search.placeholder"),class:"js-input-search flex-1 border-0 outline-none bg-transparent me-2",tabindex:"0",style:{"min-width":"160px"}},null,40,ie),(0,o._)("a",{href:(0,a.SU)(g)},de,8,ce)]))}},pe=(0,o._)("i",{class:"z-2 Icon-search text-primary cursor-pointer me-3"},null,-1),ve=["placeholder"],he={class:"z-6 position-fixed top-0 start-0 end-0 bg-white pt-4 shadow"},fe={class:"flex-flow-between align-items-center px-4 pb-4"},me=["src","alt"],ye=[(0,o._)("i",{class:"fas fa-close fs-2 text-primary fw-bold"},null,-1)],_e={class:"z-5 position-fixed inset-0 backdrop-blur-sm backdrop-brightness-95"},be={__name:"Search",props:{domInstance:Object,searchLogoObject:Object},setup(e){const t=window.Translator,s=e.searchLogoObject,l=L.search(),n=l.searchIsOpened,i=l.setSearchIsOpened,c=L.common(),d=c.fetchSearchLogoObject,g=c.getSearchLogoObject;d(s);const p=e=>{i(!0);const t=document.querySelector(".js-input-search");t&&setTimeout((()=>{t.focus()}),250)},v=e=>{i(!1)};return(e,s)=>{const l=(0,o.Q2)("click-outside");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{onClick:p,class:"bg-gray-200 transition-fast rounded py-2 px-2 flex-flow-centerY flex-nowrap"},[pe,(0,o._)("input",{type:"text",class:"flex-1 bg-transparent border-0 outline-none",placeholder:(0,a.SU)(t).trans("sylius.search.placeholder")},null,8,ve)]),(0,o.Wm)(r.uT,{name:"Animation-transform-opacity",persisted:""},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",he,[(0,o._)("div",fe,[(0,o._)("a",{href:"/",class:(0,u.C_)({"flex-flow-center mb-4 w-100":(0,a.SU)(w.Em)()})},[(0,o._)("img",{src:(0,a.SU)(g).path,alt:(0,a.SU)(g).name,class:"w-20"},null,8,me)],2),(0,o.Wm)((0,a.SU)(ge)),(0,o._)("div",{class:"w-8 h-8 rounded-circle flex-flow-center bg-gray-200 transition-fast cursor-pointer",onClick:v},ye)]),(0,o.Wm)((0,a.SU)(ae))],512),[[r.F8,(0,a.SU)(n)]])])),_:1})])),[[l,()=>(0,a.SU)(i)(!1)]]),(0,o.Wm)(r.uT,{name:"Animation-opacity",persisted:""},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",_e,null,512),[[r.F8,(0,a.SU)(n)]])])),_:1})],64)}}};var Pe=s(1198);const we=()=>{var e;const t=null!==(e=l.$.dataset)&&void 0!==e&&e.searchLogo?JSON.parse(l.$.dataset.searchLogo):{};l.$&&(0,r.ri)(be,{searchLogoObject:t}).directive("click-outside",Pe.f).mount(l.$)}},3744:(e,t)=>{t.Z=(e,t)=>{const s=e.__vccOpts||e;for(const[e,r]of t)s[e]=r;return s}}}]);